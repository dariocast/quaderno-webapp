(this["webpackJsonpquaderno-webapp"]=this["webpackJsonpquaderno-webapp"]||[]).push([[0],{25:function(e,a,t){e.exports=t(41)},30:function(e,a,t){},31:function(e,a,t){},33:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(7),c=t.n(o),l=(t(30),t(31),t(13)),s=t.n(l),u=t(17),i=t(6),m=(t(33),t(43)),p=t(46),d=t(44),h=t(47),b="https://dariocast.altervista.org/fantazama/api",g=t(18),f=t.n(g);function E(e){return r.a.createElement(h.a,{variant:e.type,onClose:e.onClose,dismissible:!0},e.message)}function v(e){return r.a.createElement("h4",null,"Bentornato ",e.username,"!")}function w(e){return r.a.createElement(d.a,{variant:"danger",onClick:e.onClick},"Logout")}var j=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(localStorage.getItem("u")),l=Object(i.a)(c,2),h=l[0],g=l[1],j=Object(n.useState)(localStorage.getItem("p")),C=Object(i.a)(j,2),y=C[0],O=C[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),I=k[0],x=k[1],B=Object(n.useState)(!1),q=Object(i.a)(B,2),L=q[0],P=q[1],A=Object(n.useState)(""),G=Object(i.a)(A,2),J=G[0],N=G[1],F=Object(n.useState)(""),T=Object(i.a)(F,2),U=T[0],W=T[1];return t?r.a.createElement(m.a,null,L?r.a.createElement(E,{onClose:z,type:U,message:J}):r.a.createElement(r.a.Fragment,null),r.a.createElement(v,{username:h}),r.a.createElement(w,{onClick:function(){o(!1),g(localStorage.getItem("u")),O(localStorage.getItem("p")),x(!1)}})):r.a.createElement(m.a,null,L?r.a.createElement(E,{onClose:z,type:U,message:J}):r.a.createElement(r.a.Fragment,null),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formBasicUsername"},r.a.createElement(p.a.Label,null,"Username"),r.a.createElement(p.a.Control,{autoComplete:"username",name:"username",onChange:M,type:"text",placeholder:"Inserisci username",value:h||"",required:!0})),r.a.createElement(p.a.Group,{controlId:"formBasicPassword"},r.a.createElement(p.a.Label,null,"Password"),r.a.createElement(p.a.Control,{autoComplete:"current-password",name:"password",onChange:M,type:"password",placeholder:"Password",value:y||"",required:!0})),r.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(p.a.Check,{name:"ricorda",onChange:M,type:"checkbox",label:"Ricordami"})),r.a.createElement(d.a,{type:"submit",value:"Submit",variant:"outline-primary",onClick:function(e){h&&y&&(e.preventDefault(),I&&(localStorage.setItem("u",h),localStorage.setItem("p",y)),function(){return D.apply(this,arguments)}({username:h,password:f()(y)}).then((function(e){e.username?(o(!0),g(e.username),P(!0),W("success"),N("Accesso riuscito")):(P(!0),W("danger"),N("Accesso non riuscito, errore: "+e.message))})))}},"Login")));function z(){P(!1)}function D(){return(D=Object(u.a)(s.a.mark((function e(){var a,t,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,fetch(b+"/admin/auth.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return t=e.sent,e.abrupt("return",t.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value;switch(a.name){case"username":g(t);break;case"password":O(t);break;case"ricorda":x(t)}}},C=t(45);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C.a,{fluid:!0,className:"my-jumbo"},r.a.createElement(m.a,null,r.a.createElement("h1",null,"Benvenuto"))),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(40);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.de01db64.chunk.js.map